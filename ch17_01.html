<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1900">
    <title>chapter 17-1</title>
    <style>
        html,
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
    <link rel="stylesheet" href="vendor/reveal/reset.css">
    <link rel="stylesheet" href="vendor/reveal/reveal.css">
    <link rel="stylesheet" href="vendor/reveal/theme/sky.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="vendor/reveal/plugin/highlight/zenburn.css">
    <!--edit-->
    <!-- Pollyfill script -->
    <script src="https://unpkg.com/core-js-bundle@3.6.1/minified.js"></script>
    <!-- Live2DCubismCore script -->
    <script src="./dist/live2dcubismcore.js"></script>
    <!-- Build script -->
    <script src="./dist/bundle.js"></script>
    <style>
        ul,
        ol {
            list-style: none;
            margin-left: 0;
        }

        .reveal {
            position: absolute;
            left: 0;
            top: 0;
            font-size: 26px;
        }

        #pageIndex {
            position: absolute;
            right: 24px;
            bottom: 24px;
            background: #000;
            color: #fff;
            font-size: 20px;
        }

        .controls {
            bottom: 24px !important;
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <!--
            data-no: 老師網頁的cubism人物編號(從0開始，網頁上的編號-1)
            data-positionx: cubism人物水平位移範圍(建議-1 ~ 0.9)
            data-positiony: cubism人物垂直位移範圍(建議-0.9~0.4)
            data-scale: cubism人物縮放(建議1~2之間的小數值，最大極限是3)
            data-motionno: cubism人物指定動作編號(從0開始，請參閱model3.json檔案的ALL MOTION GROUP)
            -->
            <section>
                <h3>圖形的周長與面積（進階題1）</h3>
                </h3>
                <section data-no="6" data-positionx="0.8" data-positiony="0.03" data-scale="1" data-motionno="0"
                    style="text-align: left"><br><br>
                    使用以下 struct 定義 shape(圖形), circle(圓), rectangle(矩形), square(正方形), triangle(三角形)。 
                    <br><br>圓有半徑，矩形有長寬，正方形有邊長，三角形有三個邊。
                    <br><br>計算各圖形周長、面積及所有圖形周長、面積加總。<br>
                    <span style="color:red;">
                        <br><br>PI 設 4。
                        <br><br>所有長度、計算均以整數處理。</span>
                </section>
            </section>

            <section>
                <h3>圖形的周長與面積（進階題1）</h3>
                <section data-no="6" data-positionx="0.8" data-positiony="0.03" data-scale="1" data-motionno="0"
                    style="text-align: left"><br><br>
                    <span style="color:red;">
                        本題須使用以下 struct定義,以及定義與實做相對的 function pointer 的 function 才計分。
                        <br><br>#define shapeText(TYPE) int (*perimeter)(struct TYPE*); \
                        <br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;int (*area)(struct TYPE*);
                        <br><br>typedef struct shape_s { shapeText(shape_s); } shape_t;
                </span>
                <br><br>
                    <img src="img/ch17-1/struct.png" style="display:block; margin:auto;">
                </section>
            </section>

            <section>
                <h3>圖形的周長與面積（進階題1）</h3>
                <section data-no="6" data-positionx="0.8" data-positiony="0.03" data-scale="1" data-motionno="0"
                    style="text-align: left"><br>
                    <img src="img/ch17-1/illustrate.png" style="display:block; margin:auto;">
                </section>
            </section>

            <section>
                <h3>圖形的周長與面積（進階題1）</h3>
                <section data-no="6" data-positionx="0.8" data-positiony="0.03" data-scale="1" data-motionno="0"
                    style="text-align: left"><br>
                    <img src="img/ch17-1/demo.png" style="display:block; margin:auto;">
                </section>
            </section>

            <section>
                <h3>Tips</h3>
                <section data-no="17" data-positionx="0.75" data-positiony="0.05" data-scale="1" data-motionno="0"
                    style="text-align: left"><br><br>
                    <section data-auto-animate>
                        <pre><code data-trim data-noescape>           
                            #include &lt;stdio.h&gt;
                            #include &lt;string.h&gt;
                            #include &lt;math.h&gt;

                            #define shapeText(TYPE) int (*perimeter)(struct TYPE*); \
                                                    int (*area)(struct TYPE*);

                            typedef struct shape_s {
                                shapeText(shape_s); 
                            } shape_t;

                            typedef struct circle_s {
                                shapeText(circle_s);
                                int radius;
                            } circle_t;

                            int CirclePerimeter(circle_t *obj) {}
                            int CircleArea(circle_t *obj) {}

                            void CircleNew(circle_t *obj) {
                                obj->perimeter = CirclePerimeter;
                                obj->area = CircleArea;
                            }

                            int main()
                            {
                                circle_t c;
                                CircleNew(&c);
                                int radius;
                                
                                scanf("%d", &radius);
                                c.radius = radius;

                                shape_t *sq = (shape_t*)&c;
                                printf("circle %d %d", sq->perimeter(sq), sq->area(sq));
                            }
                        </code></pre>
                    </section>
                </section>
            </section>

            <section>
                <h3>Tips</h3>
                <section data-no="17" data-positionx="0.75" data-positiony="0.05" data-scale="1" data-motionno="0"
                    style="text-align: left"><br><br>
                    <section data-auto-animate>
                        <pre><code data-trim data-noescape>           
                            #include &lt;stdio.h&gt;
                            #include &lt;string.h&gt;
                            #include &lt;math.h&gt;

                            #define shapeText(TYPE) int (*perimeter)(struct TYPE*); \
                                                    int (*area)(struct TYPE*);

                            typedef struct shape_s {
                                shapeText(shape_s); 
                            } shape_t;
                            
                            typedef struct circle_s {
                                shapeText(circle_s);
                                int radius;
                            } circle_t;
                            
                            typedef int (*MathMethod)(int); 
                            
                            int CirclePerimeter(int r) {return 4 * 2 * r;}
                            int CircleArea(int r) { return 4 * r * r; }
                            
                            int Calc(int r, MathMethod Opt){
                                    return Opt(r);
                            }
                            
                            int main()
                            {
                                circle_t c;
                                int radius;
                                
                                scanf("%d", &radius);
                                c.radius = radius;
                                
                                printf("%d\n", Calc(c.radius, CirclePerimeter));
                            }
                        </code></pre>
                    </section>
                </section>
            </section>

            <section>
                <h3>Tips</h3>
                <section data-no="17" data-positionx="0.75" data-positiony="0.05" data-scale="1" data-motionno="0"
                    style="text-align: left"><br><br>  
                    三角形面積:<br>
                    <img src="img/ch17-1/formula.png" style="display:block; margin:auto;"><br><br>
                    Function Pointer 範例:<br>
                    <section data-auto-animate>
                        <pre><code data-trim data-noescape>           
                            typedef int (*MathMethod)(int, int); 

                            int Mul(int a, int b) { return a*b; }
                            int Divide(int a, int b) { return a/b; }
                            int Minus(int a, int b) { return a-b; }
                            int Add(int a, int b) { return a+b; } 

                            int *Calc(int x, int y, MathMethod Opt){
                                return Opt(x, y);
                            } 

                            int main()
                            {
                            int a = 8, b = 7;
                            printf("a x b = %d\n", Calc(a, b, Mul)); 
                            printf("a / b = %d\n", Calc(a, b, Divide));
                            printf("a + b = %d\n", Calc(a, b, Minus));
                            printf("a - b = %d\n", Calc(a, b, Add));
                            }
                        </code></pre>
                    </section>
                </section>
            </section>

        </div>
    </div>
    <div id="pageIndex"></div>
    <!-- reveal.js-->
    <script src="vendor/reveal/reveal.js"></script>
    <!--plugin-->
    <script src="vendor/reveal/plugin/math/math.js"></script>
    <script src="vendor/reveal/plugin/search/search.js"></script>
    <script src="vendor/reveal/plugin/zoom/zoom.js"></script>

    <script src="vendor/reveal/plugin/notes/notes.js"></script>
    <script src="vendor/reveal/plugin/markdown/markdown.js"></script>
    <script src="vendor/reveal/plugin/highlight/highlight.js"></script>
    <script src="main-ppt.js"></script>
</body>

</html>
